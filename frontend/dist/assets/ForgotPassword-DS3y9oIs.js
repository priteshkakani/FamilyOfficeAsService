import{r as t,u as g,j as e}from"./index-Bg89uqii.js";import{resetPassword as f}from"./supabaseAuth-fmcmAvyB.js";function b(){const[r,c]=t.useState(""),[a,n]=t.useState(!1),[d,m]=t.useState(!1),[l,i]=t.useState(null),u=g();async function x(s){s.preventDefault(),n(!0),i(null);const{error:o}=await f(r);n(!1),o?i(o.message):(m(!0),setTimeout(()=>u("/login"),5e3))}return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:e.jsxs("form",{onSubmit:x,className:"bg-white p-8 rounded shadow w-96",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Forgot Password"}),d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-green-600 mb-4",children:"Password reset email sent! Redirecting to sign in..."}),e.jsx("p",{"data-testid":"forgot-success",className:"text-green-700 text-center mt-2",children:"Reset link sent to your email."})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"email",name:"email",className:"border p-2 w-full mb-4",placeholder:"Enter your email",value:r,onChange:s=>c(s.target.value),required:!0}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded w-full",disabled:a,children:a?"Sending...":"Send Reset Email"}),l&&e.jsx("div",{className:"text-red-600 mt-2","data-testid":"forgot-error",children:l})]})]})})}export{b as default};
